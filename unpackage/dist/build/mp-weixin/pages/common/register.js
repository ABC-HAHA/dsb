(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/common/register"],{"4a6f":function(e,t,n){},"603c":function(e,t,n){"use strict";var o=n("4a6f"),s=n.n(o);s.a},6514:function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=s(n("4179"));function s(e){return e&&e.__esModule?e:{default:e}}var i={data:function(){return{isAgree:!0,isSure:!1,second:60,showText:!0,phone:"",psdErr:!1,isRequest:!1,cid:""}},onShow:function(){this.cid=plus.push.getClientInfo().clientid,e.showToast({title:"你还没有账号哦，赶紧注册一个吧",icon:"none"})},methods:{checkAgree:function(e){e.detail.value.length>0?this.isAgree=!0:this.isAgree=!1},getPhone:function(e){this.phone=e.detail.value},getIdenCode:function(t){t.detail.value.length>=4?(this.showText=!0,this.isSure=!0,this.second=60):e.showToast({title:"请填写正确的验证码",icon:"none"})},getCode:function(){var t=this,n=/^1([38][0-9]|4[579]|5[0-3,5-9]|6[6]|7[0135678]|9[89])\d{8}$/,s=this.phone;if(n.test(s)){this.showText=!1;var i=setInterval(function(){--t.second},1e3);e.request({url:o.default.HTTP+"/user/getmcodenum",method:"POST",data:{username:s},success:function(t){t.data.code,e.showToast({title:t.data.error,icon:"none"})}}),setTimeout(function(){clearInterval(i),t.showText=!0,t.second=60},6e4)}else e.showToast({title:"请输入正确的手机号",icon:"none"})},submit:function(t){var n=this,s=e.getStorageSync("qqopenid"),i=e.getStorageSync("openid"),a=this.$store.state.loginType,c="";c=1===a?i:s,this.isAgree?t.detail.value.phone&&t.detail.value.code?(this.isRequest=!0,e.request({url:o.default.HTTP+"/user/Binduser",method:"POST",data:{mobile:t.detail.value.phone,code:t.detail.value.code,openid:c,type:a,cid:this.cid},success:function(t){n.isRequest=!1,0===t.data.code?1===t.data.tip?e.showModal({title:"提示",content:"自动注册成功，初始密码为123456",showCancel:!1,success:function(){e.setStorageSync("user",t.data.user),e.setStorage({key:"userInfo",data:JSON.stringify(t.data.user),success:function(e){console.log(e)}}),n.$store.dispatch("isLogin",!0),0===t.data.user.sex?e.redirectTo({url:"chooseSex"}):e.switchTab({url:"../find/find"})}}):e.showModal({title:"提示",content:"绑定成功！",showCancel:!1,success:function(){e.setStorageSync("user",t.data.user),e.setStorage({key:"userInfo",data:JSON.stringify(t.data.user),success:function(e){console.log(e)}}),n.$store.dispatch("isLogin",!0),e.switchTab({url:"../find/find"})}}):e.showToast({title:t.data.error,icon:"none"})}})):e.showToast({title:"信息不能为空",icon:"none"}):e.showToast({title:"请先阅读协议并同意",icon:"none"})}}};t.default=i}).call(this,n("543d")["default"])},"7aa4":function(e,t,n){"use strict";var o=function(){var e=this,t=e.$createElement;e._self._c},s=[];n.d(t,"a",function(){return o}),n.d(t,"b",function(){return s})},cbe1:function(e,t,n){"use strict";n.r(t);var o=n("6514"),s=n.n(o);for(var i in o)"default"!==i&&function(e){n.d(t,e,function(){return o[e]})}(i);t["default"]=s.a},e1d5:function(e,t,n){"use strict";n.r(t);var o=n("7aa4"),s=n("cbe1");for(var i in s)"default"!==i&&function(e){n.d(t,e,function(){return s[e]})}(i);n("603c");var a=n("2877"),c=Object(a["a"])(s["default"],o["a"],o["b"],!1,null,"423acae5",null);t["default"]=c.exports}},[["aedf","common/runtime","common/vendor"]]]);