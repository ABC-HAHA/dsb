(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/common/register"],{"164b":function(e,t,n){"use strict";n.r(t);var o=n("6438"),s=n.n(o);for(var i in o)"default"!==i&&function(e){n.d(t,e,function(){return o[e]})}(i);t["default"]=s.a},"2d60":function(e,t,n){"use strict";(function(e){n("62b9"),n("921b");o(n("66fd"));var t=o(n("7ab3"));function o(e){return e&&e.__esModule?e:{default:e}}e(t.default)}).call(this,n("6e42")["createPage"])},6438:function(e,t,n){"use strict";(function(e,o){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s=i(n("f9ec"));function i(e){return e&&e.__esModule?e:{default:e}}var a={data:function(){return{isAgree:!0,isSure:!1,second:60,showText:!0,phone:"",psdErr:!1,isRequest:!1,cid:""}},onShow:function(){this.cid=plus.push.getClientInfo().clientid,e.showToast({title:"你还没有账号哦，赶紧注册一个吧",icon:"none"})},methods:{checkAgree:function(e){e.detail.value.length>0?this.isAgree=!0:this.isAgree=!1},getPhone:function(e){this.phone=e.detail.value},getIdenCode:function(t){t.detail.value.length>=4?(this.showText=!0,this.isSure=!0,this.second=60):e.showToast({title:"请填写正确的验证码",icon:"none"})},getCode:function(){var t=this,n=/^1([38][0-9]|4[579]|5[0-3,5-9]|6[6]|7[0135678]|9[89])\d{8}$/,o=this.phone;if(n.test(o)){this.showText=!1;var i=setInterval(function(){--t.second},1e3);e.request({url:s.default.HTTP+"/user/getmcodenum",method:"POST",data:{username:o},success:function(t){t.data.code,e.showToast({title:t.data.error,icon:"none"})}}),setTimeout(function(){clearInterval(i),t.showText=!0,t.second=60},6e4)}else e.showToast({title:"请输入正确的手机号",icon:"none"})},submit:function(t){var n=this,i=e.getStorageSync("qqopenid"),a=e.getStorageSync("openid"),u=this.$store.state.loginType,c="";c=1===u?a:i,this.isAgree?t.detail.value.phone&&t.detail.value.code?(this.isRequest=!0,e.request({url:s.default.HTTP+"/user/Binduser",method:"POST",data:{mobile:t.detail.value.phone,code:t.detail.value.code,openid:c,type:u,cid:this.cid},success:function(t){n.isRequest=!1,0===t.data.code?1===t.data.tip?e.showModal({title:"提示",content:"自动注册成功，初始密码为123456",showCancel:!1,success:function(){e.setStorageSync("user",t.data.user),e.setStorage({key:"userInfo",data:JSON.stringify(t.data.user),success:function(e){o("log",e," at pages\\common\\register.vue:154")}}),n.$store.dispatch("isLogin",!0),0===t.data.user.sex?e.redirectTo({url:"chooseSex"}):e.switchTab({url:"../find/find"})}}):e.showModal({title:"提示",content:"绑定成功！",showCancel:!1,success:function(){e.setStorageSync("user",t.data.user),e.setStorage({key:"userInfo",data:JSON.stringify(t.data.user),success:function(e){o("log",e," at pages\\common\\register.vue:180")}}),n.$store.dispatch("isLogin",!0),e.switchTab({url:"../find/find"})}}):e.showToast({title:t.data.error,icon:"none"})}})):e.showToast({title:"信息不能为空",icon:"none"}):e.showToast({title:"请先阅读协议并同意",icon:"none"})}}};t.default=a}).call(this,n("6e42")["default"],n("0de9")["default"])},"7ab3":function(e,t,n){"use strict";n.r(t);var o=n("dc17"),s=n("164b");for(var i in s)"default"!==i&&function(e){n.d(t,e,function(){return s[e]})}(i);n("e594");var a,u=n("f0c5"),c=Object(u["a"])(s["default"],o["b"],o["c"],!1,null,"a1ffdadc",null,!1,o["a"],a);t["default"]=c.exports},dc17:function(e,t,n){"use strict";var o,s=function(){var e=this,t=e.$createElement;e._self._c},i=[];n.d(t,"b",function(){return s}),n.d(t,"c",function(){return i}),n.d(t,"a",function(){return o})},de85:function(e,t,n){},e594:function(e,t,n){"use strict";var o=n("de85"),s=n.n(o);s.a}},[["2d60","common/runtime","common/vendor"]]]);